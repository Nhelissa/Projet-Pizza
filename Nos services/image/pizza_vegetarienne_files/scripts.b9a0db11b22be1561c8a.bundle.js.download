var hasLanguageInMapBox=!1;function addLanguageFeatureToMapBox(t){if(!hasLanguageInMapBox){hasLanguageInMapBox=!0;var a=!0,e=!1,n=t.Map.prototype.setStyle;t.Map.prototype.setStyle=function(){n.apply(this,arguments),a&&!e&&(this.styleUndecorated&&(this.styleUndecorated=void 0),this.once("styledata",(function(){this.languageOptions&&this.setLanguage(this.languageOptions.language,this.languageOptions.noAlt)}).bind(this)))},t.Map.prototype.setLanguageEnabled=function(t){a=t},t.Map.prototype.setLanguage=function(t,a){if(this.languageOptions={language:t,noAlt:a},!this.styleUndecorated)try{this.styleUndecorated=this.getStyle()}catch(t){}if(this.styleUndecorated){var n=["ar","hy","be","bg","zh","ka","el","he","ja","ja_kana","kn","kk","ko","mk","ru","sr","th","uk"].indexOf(t)>=0;style=JSON.parse(JSON.stringify(this.styleUndecorated));var l={"layer-filter":["in","layout.text-field","{name}","{name_de}","{name_en}","{name:latin}","{name:latin} {name:nonlatin}","{name:latin}\n{name:nonlatin}"],decorators:[{"layout.text-field":n?"{name:nonlatin}"+(a?"":"\n{name:latin}"):"{name:latin}"+(a?"":"\n{name:nonlatin}"),"filter-all-part":["!has","name:"+t]},{"layer-name-postfix":t,"layout.text-field":"{name:"+t+"}"+(a?"":"\n{name:"+(n?"latin":"nonlatin")+"}"),"filter-all-part":["has","name:"+t]}]};"native"==t&&(l.decorators=[{"layout.text-field":"{name}","filter-all-part":["all"]}]),function(t,a){for(var e=t.layers,n=l["layer-filter"],i=l.decorators,o=n[1],r=n.slice(2),s=e.length-1;s>=0;s--){var f=e[s];if("in"===n[0]&&"layout.text-field"===o&&f.layout&&f.layout["text-field"]&&r.indexOf(f.layout["text-field"])>=0)for(var y=i.length-1;y>=0;y--){var u=i[y],g=u["layer-name-postfix"]||"";if(g=g.replace(/(^-+|-+$)/g,""),y>0){var p=JSON.parse(JSON.stringify(f));e.splice(s+1,0,p)}else p=f;p.id+=g?"-"+g:"",p.layout["text-field"]=u["layout.text-field"],"line"===p.layout["symbol-placement"]&&(p.layout["text-field"]=p.layout["text-field"].replace("\n"," "));var d=u["filter-all-part"].concat();p.filter?"all"==p.filter[0]?p.filter.push(d):p.filter=["all",p.filter,d]:p.filter=d}}}(style),e=!0,this.setStyle(style),e=!1}},t.Map.prototype.autodetectLanguage=function(t){this.setLanguage(navigator.language.split("-")[0]||t||"native")}}}